import unittest
from src.utils.geometry import is_path_blocked

class TestGeometry(unittest.TestCase):

    def setUp(self):
        self.obstacles = [
            [[1, 1], [1, 2], [2, 2], [2, 1]],
            [[3, 3], [3, 4], [4, 4], [4, 3]]
        ]

    def test_path_not_blocked(self):
        point1 = (0, 0)
        point2 = (3, 3)
        self.assertFalse(is_path_blocked(point1, point2, self.obstacles))

    def test_path_blocked(self):
        point1 = (1.5, 1.5)
        point2 = (3.5, 3.5)
        self.assertTrue(is_path_blocked(point1, point2, self.obstacles))

    def test_path_on_obstacle_edge(self):
        point1 = (1, 1)
        point2 = (2, 1)
        self.assertTrue(is_path_blocked(point1, point2, self.obstacles))

if __name__ == '__main__':
    unittest.main()